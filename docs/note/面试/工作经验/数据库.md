---
title: 数据库
createTime: 2024/10/24 16:39:59
permalink: /article/gkzhdepk/
---
1. 使用 `select concat(字符串,列名,字符串...) from table`拼接成可供执行的SQL语句
```sql
SELECT concat('update user set name =\'' ,CONCAT(name,'你好'),'\' where id =',id,' ;' ) FROM `user`；
```
2. 对多个结果相同（列数相同、列类型兼容）的查询合并
	1. 去重（union）、不去重（union all）

3. 使用not exists、exists求两个查询的交集、并集
> 先执行主查询(SELECT country FROM testwindow) a；之后遍历a的结果集，依次判断 WHERE NOT EXISTS 子查询b，子查询b只需返回true or false；
```sql
# 存在于a，不存在于b的国家
SELECT *  
FROM (SELECT country FROM testwindow) a  
WHERE NOT EXISTS (SELECT 1[|true|id] FROM (SELECT * FROM testwindow WHERE product = 'Calculator') b WHERE a.country = b.country)
```
4. 使用left join + is null 替代not exists
```sql
SELECT column_name(s)
FROM table_name1
LEFT JOIN table_name2 ON table_name1.column_name = table_name2.column_name
WHERE table_name2.column_name IS NULL;
```