---
title: 红黑树
createTime: 2024/10/24 16:40:01
permalink: /article/5ccge6cq/
---
红黑树（Red-Black Tree）是一种自平衡的二叉搜索树，它在插入和删除节点时通过一系列的旋转和重新着色操作来保持树的平衡性。红黑树具有以下特点：
1. **节点颜色：** 每个节点都带有一个颜色属性，可以是红色或黑色。
2. **根节点和叶子节点：** 根节点和叶子节点（NIL 节点）都是黑色的。
3. **红色节点规则：** 不能有两个相邻的红色节点，即红色节点不能连续出现。
4. **黑色节点规则：** 从任一节点到其每个叶子节点的路径上，黑色节点的数量必须相等。这保证了红黑树的最长路径不超过最短路径的两倍。
5. **插入和删除操作：** 插入和删除节点时，需要进行旋转和着色操作，以保持树的平衡性和性质。

## 优点
1. 红黑树的平衡性保证了其在最坏情况下的<font color="#ff0000">搜索、插入和删除操作的时间复杂度都是 O(log n)</font>，其中 n 是树中节点的数量。

## 缺点
1. 随着数据量增大，出现高度不可控
	1. 红黑树通过旋转和重新着色保持局部平衡。但一些特殊的数据分布会导致树的高度不断增加。
		1. **数据倾斜：** 如果数据集中在某个区间或某几个节点附近，而其他节点的数据较少，那么红黑树可能会因为数据分布不均匀而失去平衡性。例如，如果所有的数据都大于或者小于某个特定值，那么树可能会变得非常不平衡。
		2. **插入顺序：** 如果数据按照特定的顺序插入到红黑树中，例如递增或递减的顺序，那么可能会导致树的某一条路径变得非常长，从而影响了树的平衡性。特别是在插入顺序与树的平衡规则冲突时，容易出现失衡情况。