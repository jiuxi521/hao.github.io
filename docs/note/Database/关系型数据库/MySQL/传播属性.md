---
title: 传播属性
createTime: 2024/10/24 16:40:02
permalink: /article/i6iiu39c/
---
1. REQUIRED：要求必须有事务，外层没有事务就新建，有就加入
2. REQUIRES_NEW：要求必须有事务；总是新建事务，外层有事务就挂起
3. SUPPORTS：支持事务传播，调用方存在事务，则加入；否则不加入
	1. 例如：查询账户余额的API设置SUPPORT的传播属性；单纯的查询无须添加事务；如果是修改余额的API调用（此时存在事务），查询API加入事务，获取到最新余额
4. NOT_SUPPORTED：不支持事务传播；**外层即使有事务也不加入**；在修改余额API中查询余额，查不到最新额度
5. MANDATORY：外层有事务直接加入，没有事务不创建，直接抛异常。**强制内层事务受外层事务控制**
6. NESTED：嵌套事务；外层没有事务就新建事务；外层有事务就加入；**但内层事务回滚不会影响外层事务提交；外层事务回滚会将嵌套事务一起回滚**
